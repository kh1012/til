---
type: "content"
domain: "frontend"
category: "typescript"
topic: "rbac"
updatedAt: "2025-11-30"

satisfaction:
  score: 75
  reason: "RBAC 개념을 TypeScript 타입 시스템으로 구현한 실용적인 예시"

keywords:
  - "RBAC"
  - "Role"
  - "Permission"
  - "Access-Control"
  - "ReadOnly"
  - "Set"

relatedCategories:
  - "javascript"
  - "security"
---

# Role Based Access Control (RBAC)

RBAC는 사용자의 권한(Permission)을 직접 관리하지 않고 역할(Role)을 매개로 관리하는 기법이다.  
User → Role → Permission의 관계를 통해 권한을 식별하며, TypeScript의 타입 시스템으로 안전하게 구현할 수 있다.

## 핵심 개념

- User는 특정 Role을 가진다.
- Role은 특정 Permission을 가진다.
- User → Role → Permission의 관계를 가지며, 식별한다.

## 기본적인 컨셉 타이핑

```ts
// Permission 타입 정의
type Action = "create" | "update" | "view" | "delete";
type Resource = "post" | "comment";
type Permission = `${Action}:${Resource}`;

// Roles 타입 및 실체 정의
type Role = "admin" | "member";

// 읽기전용 강화
type ReadOnlyRolePermissions = ReadOnly<Record<Role, ReadOnlySet<Permission>>>;

// Set, add, delete 등 내부 method 방지
const roSet = <T>(items: readonly T[]): ReadOnlySet<T> =>
  new Set(items) as ReadOnlySet<T>;

// 정적검증 강화
const ROLES = {
  admin: roSet<Permission>([
    "create:post",
    "update:post",
    "view:post",
    "delete:post",
    "create:comment",
    "update:comment",
    "view:comment",
    "delete:comment",
  ] as const),
  member: roSet<Permission>([
    "create:post",
    "update:post",
    "view:post",
    "create:comment",
    "update:comment",
    "view:comment",
  ] as const),
} satisfies ReadOnlyRolePermissions;

// User 타입 정의
type User = {
  id: string;
  roles: Role[];
};

// 권한 확인 함수 (One line화)
const hasPermission = (user: User, permission: Permission) =>
  user.roles.some((role) => ROLES[role].has(permission));

// 실제 사용 시,
const user: User = {
  id: "kim",
  roles: ["member"],
};

hasPermission(user, "delete:comment"); // false
hasPermission(user, "update:post"); // true
```
