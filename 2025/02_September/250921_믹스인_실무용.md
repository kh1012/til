# 서론

extends는 단일 계층에 대해 클래스 간의 상속관계를 정의하는 예약어이다.  
반면 마치 Composite 패턴처럼, 기능들을 정의하고 이를 재 구성하여 새로운 인스턴스를 생성할 수 있는 방식이 바로 믹스인.  
타입스크립트 공식 문서에 따르면, applyMixins라는 헬퍼함수를 통해 프로토타입의 복사 및 재정의를 가이드하고 있지만,  
실무 레벨에서는 궂이 헬퍼함수를 이용하지 않고도 직관적으로 클래스 생성 제네릭을 통해 정의할 수 있다.

# 제네릭 생성자 정의

```ts
type Constructor<T = {}> = new (...args: any[]) => T;
```

Constructor 타입을 정의한다.  
new를 사용하고 여러개의 인자를 받을 수 있음을 선언한다.  
최종적으로 T라는 제네릭 타입을 반환한다.

# 기능 함수 정의

```ts
function TimeStamped<TBase extends Constructor>(Base: TBase) {
  return class extends Base {
    timeStamp = Date.now();
  };
}

function Taggable<TBase extends Constructor>(Base: TBase) {
  return class extends Base {
    tag = "tag";
  };
}
```

# 인스턴스 정의 및 실제 사용

```ts
// 기본 클래스 정의
class Base {
  id: number;
}

// 믹스인 적용
class User extends Taggable(TimeStamped(Base)) {
  private name: string;

  constructor(name: string) {
    this.name = name;
  }

  do(): void {
    console.log(`I'm User`);
  }
}

const user: User = new User("kh1012");
console.log(user.timeStamp);
console.log(user.tag);
console.log(user.id);
console.log(user.name);
```
